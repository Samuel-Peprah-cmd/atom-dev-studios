<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Atom Dev Studios</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="icon" type="image/png" href="/static/icons/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/svg+xml" href="/static/icons/favicon.svg" />
    <link rel="shortcut icon" href="/static/icons/favicon.ico" />
    <link rel="apple-touch-icon" sizes="180x180" href="/static/icons/apple-touch-icon.png" />
    <meta name="apple-mobile-web-app-title" content="AtomDevStudios" />
    <link rel="manifest" href="/static/icons/site.webmanifest" />
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <style>
        /* FIX 1: Responsive Typography & Cursor */
        :root { --neon-green: #00FF41; }
        
        body { 
            background-color: #050505; 
            color: white; 
            overflow-x: hidden; 
        }

        /* Hide custom cursor on mobile/touch devices */
        @media (hover: hover) and (pointer: fine) {
            body { cursor: none; }
            #cursor { display: block; }
        }
        @media (max-width: 768px) {
            body { cursor: auto !important; }
            #cursor { display: none !important; }
        }

        .scanlines {
            background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.25) 50%), 
                        linear-gradient(90deg, rgba(255, 0, 0, 0.06), rgba(0, 255, 0, 0.02), rgba(0, 0, 255, 0.06));
            background-size: 100% 4px, 3px 100%;
        }
    </style>
</head>
<body class="antialiased">
    
    <div id="cursor" class="fixed w-6 h-6 border border-[#00FF41] rounded-full pointer-events-none z-[9999] transition-transform duration-100 ease-out hidden md:block"></div>

    <div class="fixed inset-0 pointer-events-none z-50 opacity-20 scanlines"></div>

    <nav class="relative z-[60] flex flex-col md:flex-row justify-between items-center p-6 md:p-10 gap-6">
        <a href="/" class="flex items-center gap-3">
            <span class="text-xl md:text-2xl font-black tracking-tighter text-white uppercase italic">
                ATOM<span class="text-[#00FF41]">.</span>
            </span>
        </a>

        <div class="flex flex-wrap justify-center items-center gap-4 md:gap-10 font-mono text-[9px] md:text-[10px] tracking-[0.2em] md:tracking-[0.4em] uppercase">
            <a href="{{ url_for('home') }}#work" class="hover:text-[#00FF41] transition-colors">Work</a>
            <a href="{{ url_for('about_page') }}" class="hover:text-[#00FF41] transition-colors">Studio</a>
            
            {% if current_user.is_authenticated %}
                <a href="{{ url_for('admin') }}" class="text-[#00FF41] border border-[#00FF41]/30 px-3 py-1 rounded">Admin</a>
                <a href="{{ url_for('logout') }}" class="text-red-500">[X]</a>
            {% else %}
                <a href="mailto:hello@atomdev.com" class="bg-white text-black px-4 py-2 rounded-full font-bold hover:bg-[#00FF41] transition-all">Connect</a>
            {% endif %}
        </div>
    </nav>

    <div class="px-6 md:px-12 lg:px-24">
        {% block content %}{% endblock %}
    </div>

    <script>
        const cursor = document.getElementById('cursor');
        // Only run cursor logic if element exists/is visible
        if (window.matchMedia("(pointer: fine)").matches) {
            document.addEventListener('mousemove', (e) => {
                cursor.style.left = e.clientX - 12 + 'px';
                cursor.style.top = e.clientY - 12 + 'px';
            });
        }
    </script>
</body>
</html>